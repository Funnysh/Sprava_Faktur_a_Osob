{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Franti\\u0161ek\\\\Dropbox\\\\Projekt2\\\\invoice-client-starter\\\\src\\\\stats\\\\StatsIndex.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport InvoiceStats from \"./InvoiceStats\";\nimport PersonStats from \"./PersonStats\";\nimport { apiGet } from \"../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StatsIndex = () => {\n  _s();\n  const [personStats, setPersonStats] = useState(null); // Změněno na objekt (ne pole)\n  const [invoiceStats, setInvoiceStats] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Načtení osobních statistik (vrací OBJEKT, ne pole)\n        const personsData = await apiGet(\"/api/persons/statistics\");\n        console.log(\"Přijaté osobní statistiky:\", personsData);\n        setPersonStats(personsData !== null && personsData !== void 0 ? personsData : null); // Uložíme jako objekt nebo `null` pokud je prázdné\n\n        // Načtení fakturačních statistik (vrací POLE)\n        const invoicesData = await apiGet(\"/api/invoices/statistics\");\n        console.log(\"Přijaté fakturační statistiky:\", invoicesData);\n        setInvoiceStats(Array.isArray(invoicesData) ? invoicesData : []);\n      } catch (error) {\n        console.error(\"Chyba při načítání statistik:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(InvoiceStats, {\n      items: invoiceStats\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Statistiky spole\\u010Dnost\\xED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), personStats ? /*#__PURE__*/_jsxDEV(PersonStats, {\n      item: personStats\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 65\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n_s(StatsIndex, \"FA9EgDjTBMCqEappwEYAQbExv3o=\");\n_c = StatsIndex;\nexport default StatsIndex;\nvar _c;\n$RefreshReg$(_c, \"StatsIndex\");","map":{"version":3,"names":["React","useEffect","useState","InvoiceStats","PersonStats","apiGet","jsxDEV","_jsxDEV","StatsIndex","_s","personStats","setPersonStats","invoiceStats","setInvoiceStats","fetchData","personsData","console","log","invoicesData","Array","isArray","error","children","items","fileName","_jsxFileName","lineNumber","columnNumber","item","_c","$RefreshReg$"],"sources":["C:/Users/František/Dropbox/Projekt2/invoice-client-starter/src/stats/StatsIndex.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport InvoiceStats from \"./InvoiceStats\";\r\nimport PersonStats from \"./PersonStats\";\r\nimport { apiGet } from \"../utils/api\";\r\n\r\nconst StatsIndex = () => {\r\n    const [personStats, setPersonStats] = useState(null); // Změněno na objekt (ne pole)\r\n    const [invoiceStats, setInvoiceStats] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                // Načtení osobních statistik (vrací OBJEKT, ne pole)\r\n                const personsData = await apiGet(\"/api/persons/statistics\");\r\n                console.log(\"Přijaté osobní statistiky:\", personsData);\r\n                setPersonStats(personsData ?? null); // Uložíme jako objekt nebo `null` pokud je prázdné\r\n\r\n                // Načtení fakturačních statistik (vrací POLE)\r\n                const invoicesData = await apiGet(\"/api/invoices/statistics\");\r\n                console.log(\"Přijaté fakturační statistiky:\", invoicesData);\r\n                setInvoiceStats(Array.isArray(invoicesData) ? invoicesData : []);\r\n            } catch (error) {\r\n                console.error(\"Chyba při načítání statistik:\", error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <InvoiceStats items={invoiceStats} />\r\n\r\n            <h1>Statistiky společností</h1>\r\n            {personStats ? <PersonStats item={personStats} /> : <p>Načítání...</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StatsIndex;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,MAAM,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACtD,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACZ,MAAMa,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA;QACA,MAAMC,WAAW,GAAG,MAAMV,MAAM,CAAC,yBAAyB,CAAC;QAC3DW,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,WAAW,CAAC;QACtDJ,cAAc,CAACI,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAI,IAAI,CAAC,CAAC,CAAC;;QAErC;QACA,MAAMG,YAAY,GAAG,MAAMb,MAAM,CAAC,0BAA0B,CAAC;QAC7DW,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEC,YAAY,CAAC;QAC3DL,eAAe,CAACM,KAAK,CAACC,OAAO,CAACF,YAAY,CAAC,GAAGA,YAAY,GAAG,EAAE,CAAC;MACpE,CAAC,CAAC,OAAOG,KAAK,EAAE;QACZL,OAAO,CAACK,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACzD;IACJ,CAAC;IAEDP,SAAS,EAAE;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIP,OAAA;IAAAe,QAAA,gBACIf,OAAA,CAACJ,YAAY;MAACoB,KAAK,EAAEX;IAAa;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,eAErCpB,OAAA;MAAAe,QAAA,EAAI;IAAsB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,EAC9BjB,WAAW,gBAAGH,OAAA,CAACH,WAAW;MAACwB,IAAI,EAAElB;IAAY;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,gBAAGpB,OAAA;MAAAe,QAAA,EAAG;IAAW;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAI;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACpE;AAEd,CAAC;AAAClB,EAAA,CAhCID,UAAU;AAAAqB,EAAA,GAAVrB,UAAU;AAkChB,eAAeA,UAAU;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}